import"./index-D1ypBbsW.js";import{m as ie,b as u,k as d,e as s,a as L,n as D,l as $e,t as R,d as h,r as E,c as b,p as $,u as H,F as G,f as z}from"./index-D0FIH5Mc.js";import{_ as De}from"./_plugin-vue_export-helper-DlAUqK2U.js";var le=typeof global=="object"&&global&&global.Object===Object&&global,Ae=typeof self=="object"&&self&&self.Object===Object&&self,f=le||Ae||Function("return this")(),A=f.Symbol,ce=Object.prototype,Ce=ce.hasOwnProperty,Pe=ce.toString,T=A?A.toStringTag:void 0;function ke(e){var r=Ce.call(e,T),t=e[T];try{e[T]=void 0;var n=!0}catch{}var o=Pe.call(e);return n&&(r?e[T]=t:delete e[T]),o}var Ee=Object.prototype,Be=Ee.toString;function Ve(e){return Be.call(e)}var Me="[object Null]",Fe="[object Undefined]",K=A?A.toStringTag:void 0;function x(e){return e==null?e===void 0?Fe:Me:K&&K in Object(e)?ke(e):Ve(e)}function N(e){return e!=null&&typeof e=="object"}var Ie=Array.isArray;function ue(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Le="[object AsyncFunction]",Re="[object Function]",Ne="[object GeneratorFunction]",Ue="[object Proxy]";function de(e){if(!ue(e))return!1;var r=x(e);return r==Re||r==Ne||r==Le||r==Ue}var P=f["__core-js_shared__"],q=(function(){var e=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function We(e){return!!q&&q in e}var Ye=Function.prototype,He=Ye.toString;function g(e){if(e!=null){try{return He.call(e)}catch{}try{return e+""}catch{}}return""}var Ge=/[\\^$.*+?()[\]{}|]/g,ze=/^\[object .+?Constructor\]$/,Ke=Function.prototype,qe=Object.prototype,Xe=Ke.toString,Je=qe.hasOwnProperty,Ze=RegExp("^"+Xe.call(Je).replace(Ge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Qe(e){if(!ue(e)||We(e))return!1;var r=de(e)?Ze:ze;return r.test(g(e))}function et(e,r){return e?.[r]}function S(e,r){var t=et(e,r);return Qe(t)?t:void 0}var B=S(f,"WeakMap"),tt=9007199254740991;function fe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=tt}function rt(e){return e!=null&&fe(e.length)&&!de(e)}var at=Object.prototype;function pe(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||at;return e===t}var ot="[object Arguments]";function X(e){return N(e)&&x(e)==ot}var me=Object.prototype,nt=me.hasOwnProperty,st=me.propertyIsEnumerable,it=X((function(){return arguments})())?X:function(e){return N(e)&&nt.call(e,"callee")&&!st.call(e,"callee")};function lt(){return!1}var be=typeof exports=="object"&&exports&&!exports.nodeType&&exports,J=be&&typeof module=="object"&&module&&!module.nodeType&&module,ct=J&&J.exports===be,Z=ct?f.Buffer:void 0,ut=Z?Z.isBuffer:void 0,dt=ut||lt,ft="[object Arguments]",pt="[object Array]",mt="[object Boolean]",bt="[object Date]",yt="[object Error]",gt="[object Function]",vt="[object Map]",ht="[object Number]",jt="[object Object]",Tt="[object RegExp]",wt="[object Set]",xt="[object String]",St="[object WeakMap]",Ot="[object ArrayBuffer]",_t="[object DataView]",$t="[object Float32Array]",Dt="[object Float64Array]",At="[object Int8Array]",Ct="[object Int16Array]",Pt="[object Int32Array]",kt="[object Uint8Array]",Et="[object Uint8ClampedArray]",Bt="[object Uint16Array]",Vt="[object Uint32Array]",a={};a[$t]=a[Dt]=a[At]=a[Ct]=a[Pt]=a[kt]=a[Et]=a[Bt]=a[Vt]=!0;a[ft]=a[pt]=a[Ot]=a[mt]=a[_t]=a[bt]=a[yt]=a[gt]=a[vt]=a[ht]=a[jt]=a[Tt]=a[wt]=a[xt]=a[St]=!1;function Mt(e){return N(e)&&fe(e.length)&&!!a[x(e)]}function Ft(e){return function(r){return e(r)}}var ye=typeof exports=="object"&&exports&&!exports.nodeType&&exports,w=ye&&typeof module=="object"&&module&&!module.nodeType&&module,It=w&&w.exports===ye,k=It&&le.process,Q=(function(){try{var e=w&&w.require&&w.require("util").types;return e||k&&k.binding&&k.binding("util")}catch{}})(),ee=Q&&Q.isTypedArray,Lt=ee?Ft(ee):Mt;function Rt(e,r){return function(t){return e(r(t))}}var Nt=Rt(Object.keys,Object),Ut=Object.prototype,Wt=Ut.hasOwnProperty;function Yt(e){if(!pe(e))return Nt(e);var r=[];for(var t in Object(e))Wt.call(e,t)&&t!="constructor"&&r.push(t);return r}var V=S(f,"Map"),M=S(f,"DataView"),F=S(f,"Promise"),I=S(f,"Set"),te="[object Map]",Ht="[object Object]",re="[object Promise]",ae="[object Set]",oe="[object WeakMap]",ne="[object DataView]",Gt=g(M),zt=g(V),Kt=g(F),qt=g(I),Xt=g(B),y=x;(M&&y(new M(new ArrayBuffer(1)))!=ne||V&&y(new V)!=te||F&&y(F.resolve())!=re||I&&y(new I)!=ae||B&&y(new B)!=oe)&&(y=function(e){var r=x(e),t=r==Ht?e.constructor:void 0,n=t?g(t):"";if(n)switch(n){case Gt:return ne;case zt:return te;case Kt:return re;case qt:return ae;case Xt:return oe}return r});var Jt="[object Map]",Zt="[object Set]",Qt=Object.prototype,er=Qt.hasOwnProperty;function se(e){if(e==null)return!0;if(rt(e)&&(Ie(e)||typeof e=="string"||typeof e.splice=="function"||dt(e)||Lt(e)||it(e)))return!e.length;var r=y(e);if(r==Jt||r==Zt)return!e.size;if(pe(e))return!Yt(e).length;for(var t in e)if(er.call(e,t))return!1;return!0}const tr={viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"};function rr(e,r){return d(),u("svg",tr,[...r[0]||(r[0]=[s("path",{fill:"currentColor",d:"M164.24 203.76a6 6 0 1 1-8.48 8.48l-80-80a6 6 0 0 1 0-8.48l80-80a6 6 0 0 1 8.48 8.48L88.49 128Z"},null,-1)])])}const ar=ie({name:"ph-caret-left-light",render:rr}),or={viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"};function nr(e,r){return d(),u("svg",or,[...r[0]||(r[0]=[s("path",{fill:"currentColor",d:"m180.24 132.24l-80 80a6 6 0 0 1-8.48-8.48L167.51 128L91.76 52.24a6 6 0 0 1 8.48-8.48l80 80a6 6 0 0 1 0 8.48"},null,-1)])])}const sr=ie({name:"ph-caret-right-light",render:nr}),ir=["data-date"],lr=L({__name:"CalendarCell",props:{selectedDate:{},dateObj:{},holidayColor:{},showBarColor:{}},emits:["date-select"],setup(e,{emit:r}){const t=e,n=r,o=(i,l)=>{const c=i.currentTarget;c&&l&&n("date-select",`${c.dataset.date}`)};return(i,l)=>(d(),u("div",{class:D(["date-col relative h-0 w-1/7 pt-[calc(100%/6)] text-gray-300 select-none md:pt-[calc(100%/10)]",{"in-view":t.dateObj.isInView,"date-selected":t.selectedDate===t.dateObj.fullDateText}]),"data-date":t.dateObj.fullDateText,onClick:l[0]||(l[0]=c=>o(c,t.dateObj.isInView))},[s("div",{class:D(["date-content",[{"show-bar":t.dateObj.shouldShowBar},{holiday:t.dateObj.isHoliday}]]),style:$e({"--base-cal_holiday-color":t.holidayColor,"--base-cal_show-bar-color":t.showBarColor})},R(t.dateObj.briefDateText),7)],10,ir))}}),cr=De(lr,[["__scopeId","data-v-25343817"]]),ur={en:[{full:"SUN",brief:"SUN"},{full:"MON",brief:"MON"},{full:"TUE",brief:"TUE"},{full:"WEN",brief:"WEN"},{full:"THU",brief:"THU"},{full:"FRI",brief:"FRI"},{full:"SAT",brief:"SAT"}]},dr={class:"mb-4 w-full overflow-hidden rounded-md shadow-md select-none md:mb-0"},fr={class:"calender-header flex min-h-[3.2rem] w-full items-center justify-between bg-[#80808014] px-3 text-lg"},pr={class:"p-1"},mr={class:"flex flex-wrap"},br=["data-full","data-brief"],yr={class:"relative flex flex-wrap"},gr=42,vr=L({name:"BaseCalendar",__name:"index",props:{modelValue:{default:void 0},minDate:{default:void 0},maxDate:{default:void 0},defaultMaxYearToRender:{default:1},holidayList:{default:()=>[]},showBarList:{default:()=>[]},dateStrFormat:{default:"YYYY/MM/DD"},weekdayTextList:{default:()=>ur.en},calendarHeaderText:{default:"YYYY / MM"},holidayColor:{default:"#ff9600"},showBarColor:{default:"#aabbcc"},startOfWeek:{default:0}},emits:["update:modelValue"],setup(e,{emit:r}){const t=e,n=t.minDate?h(t.minDate):se(t.modelValue)?h():h(t.modelValue);let o=E(n.startOf("month"));const i=t.minDate?n:n.subtract(t.defaultMaxYearToRender,"year"),l=t.maxDate?h(t.maxDate):n.add(t.defaultMaxYearToRender,"year");if(!t.minDate&&l.isBefore(n.startOf("day")))throw new Error("maxDate should not be earlier than today if minDate is not provided.");if(l.isBefore(i))throw new Error("maxDate should be greater than minDate. Please check your props.");const c=b(()=>t.modelValue!==void 0),U=E(n.format(t.dateStrFormat)),W=r,v=b({get:()=>c.value?t.modelValue||n.format(t.dateStrFormat):U.value,set:O=>{c.value?W("update:modelValue",O):U.value=O}});c.value&&se(t.modelValue)&&W("update:modelValue",v.value);const ge=b(()=>o.value.format(t.calendarHeaderText)),ve=b(()=>[...new Array(gr)].map((O,_)=>{const p=(o.value.day()-t.startOfWeek+7)%7,j=_-p,m=o.value.add(j,"day"),Se=m.format(t.dateStrFormat),Y=m.isSameOrAfter(i,"day")&&m.isSame(o.value,"month")&&m.isSameOrBefore(l),Oe=t.holidayList.filter(C=>h(C).isSame(m)).length>0,_e=t.showBarList.filter(C=>h(C).isSame(m)).length>0;return{fullDateText:Se,briefDateText:`${m.date()}`,isInView:Y,isHoliday:Oe,shouldShowBar:Y&&_e}})),he=b(()=>t.weekdayTextList.slice(t.startOfWeek).concat(t.weekdayTextList.slice(0,t.startOfWeek))),je=b(()=>o.value.isSame(i,"month")),Te=b(()=>o.value.isSame(l,"month")),we=()=>{o.value.isSame(l,"month")||(o.value=o.value.add(1,"month"),v.value=o.value.format(t.dateStrFormat))},xe=()=>{if(!o.value.isSame(i,"month")){if(o.value=o.value.subtract(1,"month"),o.value.isSame(i,"month")){v.value=i.format(t.dateStrFormat);return}v.value=o.value.format(t.dateStrFormat)}};return(O,_)=>(d(),u("div",dr,[s("div",fr,[s("button",{class:D(["prev-btn",{"pointer-events-none opacity-0":je.value}]),onClick:xe},[$(H(ar),{width:"20",height:"20"})],2),s("span",null,R(ge.value),1),s("button",{class:D(["next-btn",{"pointer-events-none opacity-0":Te.value}]),onClick:we},[$(H(sr),{width:"20",height:"20"})],2)]),s("div",pr,[s("div",mr,[(d(!0),u(G,null,z(he.value,({full:p,brief:j})=>(d(),u("div",{key:p,"data-full":p,"data-brief":j,class:"flex w-1/7 items-center justify-center py-3 text-center text-[0.85rem] text-gray-400 select-none before:content-[attr(data-brief)] md:before:content-[attr(data-full)]"},null,8,br))),128))]),s("div",yr,[(d(),u(G,null,z(42,p=>$(cr,{key:p,"date-obj":ve.value[p-1],"selected-date":v.value,"holiday-color":t.holidayColor,"show-bar-color":t.showBarColor,onDateSelect:_[0]||(_[0]=j=>{v.value=j})},null,8,["date-obj","selected-date","holiday-color","show-bar-color"])),64))])])]))}}),hr={class:"w-full"},jr={class:"flex items-center justify-center"},Tr={class:"my-1 flex justify-center"},Or=L({name:"DemoCalendar",__name:"Calendar",setup(e){const r=E("");return(t,n)=>(d(),u("div",hr,[n[1]||(n[1]=s("h1",{class:"text-center text-lg"},"Calendar 日曆",-1)),s("div",jr,[$(vr,{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=o=>r.value=o),class:"my-1 max-w-[18.75rem] md:max-w-[30rem]"},null,8,["modelValue"])]),s("div",Tr,[s("p",null,"Selected Date 所選日期: "+R(r.value),1)])]))}});export{Or as default};
