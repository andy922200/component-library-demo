import{m as S,a as c,j as n,b as o,d as w,r as B,c as T,F as A,e as h,l as y,k as u,n as f,A as g,q as C,u as L,G as b,x as p,y as z,H,s as I,I as R,t as _}from"./index-BlmP_x2W.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function F(s,i){return n(),c("svg",D,[...i[0]||(i[0]=[o("path",{fill:"currentColor",d:"M8.2 751.4c0 8.6 3.4 17.401 10 24.001c13.2 13.2 34.8 13.2 48 0l451.8-451.8l445.2 445.2c13.2 13.2 34.8 13.2 48 0s13.2-34.8 0-48L542 251.401c-13.2-13.2-34.8-13.2-48 0l-475.8 475.8c-6.8 6.8-10 15.4-10 24.2z"},null,-1)])])}const G=S({name:"simple-line-icons-arrow-up",render:F}),q={class:"tree-view"},E=["onClick"],M=w({name:"TreeView",__name:"index",props:{nodes:{type:Array,default:()=>[]},parentKey:{type:String,default:null},level:{type:Number,default:0},isAccordion:{type:Boolean,default:!1},nodeHeaderClass:{type:String,default:"h-12"},textClass:{type:String,default:""},isRecursive:{type:Boolean,default:!1}},setup(s,{expose:i}){const r=s,l=B({}),d=e=>{r.isAccordion&&!l.value[e]&&(l.value={}),l.value[e]=!l.value[e]},a=e=>!!l.value[e],m=T(()=>r.nodes.filter(e=>e.level===r.level&&e.parentKey===r.parentKey)),v=e=>r.nodes.some(x=>x.parentKey===e.key);return i({filteredNodes:m}),(e,x)=>{const $=R("TreeView");return n(),c("div",q,[(n(!0),c(A,null,h(m.value,(t,K)=>(n(),c("div",{key:t.key,class:"tree-node"},[o("div",{class:f(["node-header flex cursor-pointer items-center",s.nodeHeaderClass||""]),style:u({borderBottom:!s.isRecursive&&s.level===0&&K===m.value.length-1?"none":"1px solid #eeeeee"})},[g(e.$slots,"node-text",{node:t},()=>[o("span",{class:f(["node-text flex-1",s.textClass||""]),style:u({marginLeft:`${t.level*20}px`})},_(t.textKey?e.$t(t.textKey):t.text),7)],!0),v(t)?(n(),c("span",{key:0,class:"toggle-icon cursor-pointer py-4 pl-4",onClick:V=>d(t.key)},[y(L(G),{class:"size-4 transition-transform duration-300",style:u({transform:a(t.key)?"rotate(0deg)":"rotate(180deg)"})},null,8,["style"])],8,E)):C("",!0)],6),y(b,{name:"tree"},{default:p(()=>[a(t.key)&&v(t)?(n(),z($,{key:t.key,nodes:s.nodes,"parent-key":t.key,level:s.level+1,"node-header-class":s.nodeHeaderClass,"is-accordion":s.isAccordion,"text-class":s.textClass,"is-recursive":!0},H({_:2},[h(e.$slots,(V,k)=>({name:k,fn:p(N=>[g(e.$slots,k,I({ref_for:!0},N),void 0,!0)])}))]),1032,["nodes","parent-key","level","node-header-class","is-accordion","text-class"])):C("",!0)]),_:2},1024)]))),128))])}}}),O=j(M,[["__scopeId","data-v-fbc25060"]]),P={class:"w-full"},U={class:"flex items-center justify-center"},J=["onClick"],Q={class:"ml-4 flex-1 text-[#333333]"},Y=w({name:"DemoTreeView",__name:"TreeView",setup(s){const i=[{key:"1",text:"Node 1",level:0,parentKey:null},{key:"2",text:"Node 2",level:1,parentKey:"1"},{key:"3",text:"Node 3",level:1,parentKey:"1"},{key:"4",text:"Node 4",level:0,parentKey:null}],r=l=>{alert(l.text)};return(l,d)=>(n(),c("div",P,[d[0]||(d[0]=o("h1",{class:"text-center text-lg"},"TreeView 樹狀結構",-1)),o("div",U,[y(O,{nodes:i,"node-header-class":"h-20",class:"w-1/2 rounded border px-2"},{"node-text":p(({node:a})=>[o("a",{class:f(["flex size-full items-center",`${a.customClass||""}`]),style:u({marginLeft:`${a.level*20}px`}),onClick:()=>r(a)},[o("span",Q,_(a.text),1)],14,J)]),_:1})])]))}});export{Y as default};
